


<div class="container">
    <div class="jumbotron jumbotron-fluid">
            <div class="container" style="padding-top:0px;padding-bottom:0px;">
                <h1 id="logoContainer" class="display-4"><img id="logo" src="../../../../assets/bug_logo.png" height="70"> Reporting System <div class="blink">./</div></h1>
                <p class="lead" style="color:rgb(179, 179, 179);">This is a web application implementing a bug reporting system, which displays various
                    software bugs
                    and information concerning them.</p>
            </div>
    </div>

    <!-- Content here -->
    
    <button id="addButton" type="button" [routerLink]="'add'" class="btn btn-success">Add a <i id="bugIcon" class="fa fa-bug fa-2x"></i></button>
  
    <div id="searchGroup" class="row">
        <form #searchForm="ngForm" (submit)="search()">
            <div class="input-group">
                <div class="input-group-prepend">
                    <span id="searchBarLeft" class="input-group-text" ><strong>Advanced Search:</strong></span>
                </div>
                <input [(ngModel)] = "titleInput" type="text" class="form-control" placeholder="Title" name="titleInput" minlength="1" ngModel>
                <input [(ngModel)] = "priorityInput" type="text" class="form-control" placeholder="Priority" name="priorityInput" minlength="1" ngModel>
                <input [(ngModel)] = "reporterInput" type="text" class="form-control" placeholder="Reporter" name="reporterInput" minlength="1">
                <input [(ngModel)] = "statusInput" type="text" class="form-control"placeholder="Status" name="statusInput" minlength="1">
                <div class="input-group-append">
                    <button class="btn btn-outline-success" type="submit">Search</button> 
                    <button id="searchBarRight" type="button" class="btn btn-outline-success" (click)=resetSearch()>Clear</button>
                </div>
            </div>
        </form>
    </div>
    <div id="bugsTable" class="table-responsive">
        <table class="table table-hover ">
            <thead class="thead-dark">
                <tr>
                    <th id="title" scope="col" (click)="sort('title')">Title <i class="fa fa-sort"></i></th>
                    <th id="priority" scope="col" (click)="sort('priority')">Priority <i class="fa fa-sort"></i></th>
                    <th id="reporter" scope="col" (click)="sort('reporter')">Reporter <i class="fa fa-sort"></i></th>
                    <th id="createdAt" scope="col" (click)="sort('createdAt')">Date Created <i class="fa fa-sort"></i></th>
                    <th id="status" scope="col" (click)="sort('status')">Status <i class="fa fa-sort"></i></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of bugsList">
                    <td>{{item.title}}</td>
                    <td>{{item.priority}}</td>
                    <td>{{item.reporter}}</td>
                    <td>{{item.createdAt | date: 'dd/MM/yyyy'}}</td>
                    <td>{{item.status}}</td>
                    <td> <button type="button"  [routerLink]="['edit',item.id]"   class="btn btn-secondary editButton"> <i class="fa fa-edit"></i> Edit</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- PAGINATION -->
    <div class="pagination">
        <div class="btn-group" role="group"> 
            <button  type="button" [disabled]="currentPage===0" class="btn btn-secondary" (click)="navigate('previous')">Previous</button>
            <button type="button" [disabled]="currentPage+1==totalPages" class="btn btn-secondary" (click)="navigate('next')">Next</button>
        </div>
        <span style="margin:10px;">Page: {{currentPage +1}}/ Total: {{totalPages}} </span>
    </div>

</div>